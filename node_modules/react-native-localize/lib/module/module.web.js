import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import{USES_FAHRENHEIT,USES_IMPERIAL,USES_RTL_LAYOUT,CURRENCIES}from"./constants";function getLocaleFromLanguageTag(languageTag,countryCodeFallback){var splitted=languageTag.split("-");var languageCode=splitted[0];if(splitted[1]==="419"){splitted[1]="UN";}var countryCode=splitted[1]||countryCodeFallback;return{languageCode:languageCode,countryCode:countryCode,languageTag:languageCode+"-"+countryCode,isRTL:USES_RTL_LAYOUT.includes(languageCode)};}function generateConstants(languageTags){var base=getLocaleFromLanguageTag(languageTags[0],"US");var currencies=[];var locales=[];var numberFormatter=new Intl.NumberFormat(base.languageTag);var dateFormatter=new Intl.DateTimeFormat(base.languageTag,{hour:"numeric"});languageTags.forEach(function(languageTag){var locale=getLocaleFromLanguageTag(languageTag,base.countryCode);var currency=CURRENCIES[locale.countryCode]||"USD";if(!locales.find(function(_){return _.languageTag===locale.languageTag;})){locales.push(locale);}if(!currencies.includes(currency)){currencies.push(currency);}});var numberSeparators=_toConsumableArray(numberFormatter.format(1000000.1).replace(/\d/g,""));var numberFormatSettings={decimalSeparator:numberSeparators[numberSeparators.length-1],groupingSeparator:numberSeparators[0]};var eveningDate=new Date(2000,0,1,20);var uses24HourClock=!!dateFormatter.format(eveningDate).match(/am|pm/i);return{calendar:"gregorian",country:base.countryCode,currencies:currencies,locales:locales,numberFormatSettings:numberFormatSettings,temperatureUnit:USES_FAHRENHEIT.includes(base.countryCode)?"fahrenheit":"celsius",timeZone:dateFormatter.resolvedOptions().timeZone||"Etc/UTC",uses24HourClock:uses24HourClock,usesMetricSystem:!USES_IMPERIAL.includes(base.countryCode)};}export var handlers=new Set();export var constants=generateConstants(navigator.languages);window.addEventListener("languagechange",function(){constants=generateConstants(navigator.languages);handlers.forEach(function(handler){return handler();});});
//# sourceMappingURL=module.web.js.map